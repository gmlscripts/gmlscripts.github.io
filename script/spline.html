<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>GMLscripts.com :: spline</title>
<meta name="theme-color" content="#FC7C13">
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" title="GMLscripts.com :: Script Commit History" href="https://github.com/gmlscripts/scripts/commits/master.atom" type="application/rss+xml" />
<script type="text/x-mathjax-config">//<![CDATA[
MathJax.Hub.Config({extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"],['[tex]','[/tex]']],displayMath:[['$$','$$'],["\\[","\\]"]],processEscapes:true},"HTML-CSS":{availableFonts:["TeX"]},menuSettings:{zoom:"Click"},MathZoom:{styles:{"#MathJax_Zoom":{"background-color":"#222","box-shadow":"0px 0px 15px #AAAAAA","-webkit-box-shadow":"0px 0px 15px #AAAAAA","-moz-box-shadow":"0px 0px 15px #AAAAAA","-khtml-box-shadow":"0px 0px 15px #AAAAAA",}}}});
MathJax.Hub.Queue(function () { showMathJax(); } );//]]></script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/javascript">var scripts = "spline"</script>
<script type="text/javascript">var locals = "parent, list";</script>
<script type="text/javascript" src="../prettify/prettify.js"></script>
<script type="text/javascript" src="../prettify/lang-gml.js"></script>
<script type="text/javascript" src="../gmlscripts35.js"></script>
<link rel="stylesheet" type="text/css" href="../gmlscripts35.css" />
<link href="https://fonts.googleapis.com/css?family=Paytone+One%7CABeeZee%7CSource+Code+Pro" rel="stylesheet" />
</head>
<body onload="start();">
<noscript><div>JAVASCRIPT REQUIRED</div></noscript>
<p class="static">You are currently viewing the <a href="../index.html">GMLscripts.com</a> static mirror. Forum access and script submissions are not available through this mirror.</p>
<header>
  <img id="contrast" src="../images/35/_note.png" title="Invert" alt="Invert" />
  <a href="../index.html" id="home"><img src="../images/35/gmlscripts-header3d.png" alt="GMLscripts.com" /></a>
  <nav id="headnav">
    <ul><li>
      <a href="index.html">Scripts</a></li><li>
      <a href="spline.html#">Forums</a></li><li>
      <a href="../license.html">License</a></li><li>
      <a href="spline.html#">Search</a></li><li>
      <a href="spline.html#">Submit</a></li><li>
      <a href="../paypal.html">Donate</a></li><li>
      <a href="spline.html#">Releases</a></li><li>
      <a href="http://twitter.com/gmlscripts">Follow</a></li>
    </ul>
  </nav>
</header>
<nav id="sidenav">
<div>
  <span>Scripts</span>
  <ul class="accordion" id="Scripts">
    <li id="computation" class="computation">
      <a href="spline.html#computation">Computation</a>
      <ul>
        <li><a href="Computation/Base_Conversion/index.html">Base Conversion</a></li>
        <li><a href="Computation/Bitwise/index.html">Bitwise</a></li>
        <li><a href="Computation/Data_Encoding/index.html">Data Encoding</a></li>
        <li><a href="Computation/Data_Encryption/index.html">Data Encryption</a></li>
        <li><a href="Computation/Data_Hashing/index.html">Data Hashing</a></li>
        <li><a href="Computation/Date-Time/index.html">Date-Time</a></li>
        <li><a href="Computation/Geometry/index.html">Geometry</a></li>
        <li><a href="Computation/Parametric_Functions/index.html">Parametric Functions</a></li>
        <li><a href="Computation/Probability/index.html">Probability</a></li>
        <li><a href="Computation/Real_Numbers/index.html">Real Numbers</a></li>
        <li><a href="Computation/Strings/index.html">Strings</a></li>
      </ul>
    </li>
    <li id="data_structures" class="data_structures">
      <a href="spline.html#data_structures">Data Structures</a>
      <ul>
        <li><a href="Data_Structures/Arrays/index.html">Arrays</a></li>
        <li><a href="Data_Structures/Grids/index.html">Grids</a></li>
        <li><a href="Data_Structures/Lists/index.html">Lists</a></li>
        <li><a href="Data_Structures/Maps/index.html">Maps</a></li>
      </ul>
    </li>
    <li id="files" class="files">
      <a href="spline.html#files">Files</a>
      <ul>
        <li><a href="Files/Input_and_Output/index.html">Input and Output</a></li>
      </ul>
    </li>
    <li id="game_play" class="game_play">
      <a href="spline.html#game_play">Game Play</a>
      <ul>
        <li><a href="Game_Play/Artificial_Intelligence/index.html">Artificial Intelligence</a></li>
        <li><a href="Game_Play/Collisions/index.html">Collisions</a></li>
        <li><a href="Game_Play/Instances/index.html">Instances</a></li>
        <li><a href="Game_Play/Movement/index.html">Movement</a></li>
      </ul>
    </li>
    <li id="graphics" class="graphics">
      <a href="spline.html#graphics">Graphics</a>
      <ul>
        <li><a href="Graphics/3D/index.html">3D</a></li>
        <li><a href="Graphics/Backgrounds/index.html">Backgrounds</a></li>
        <li><a href="Graphics/Color/index.html">Color</a></li>
        <li><a href="Graphics/Drawing/index.html">Drawing</a></li>
        <li><a href="Graphics/Shaders/index.html">Shaders</a></li>
        <li><a href="Graphics/Sprites/index.html">Sprites</a></li>
        <li><a href="Graphics/Surfaces/index.html">Surfaces</a></li>
        <li><a href="Graphics/Text/index.html">Text</a></li>
      </ul>
    </li>
    <li id="interaction" class="interaction">
      <a href="spline.html#interaction">Interaction</a>
      <ul>
        <li><a href="Interaction/Gamepad/index.html">Gamepad</a></li>
        <li><a href="Interaction/Mouse/index.html">Mouse</a></li>
      </ul>
    </li>
    <li id="platform" class="platform">
      <a href="spline.html#platform">Platform</a>
      <ul>
        <li><a href="Platform/Device/index.html">Device</a></li>
      </ul>
    </li>
    <li id="resources" class="resources">
      <a href="spline.html#resources">Resources</a>
      <ul>
        <li><a href="Resources/Management/index.html">Management</a></li>
        <li><a href="Resources/Sprites/index.html">Sprites</a></li>
      </ul>
    </li>
  </ul>
  <span></span>
</div>
</nav>
<main>
<h1>spline</h1>
<p>A Catmull-Rom spline interpolates smoothly between knot[1] and knot[n-2],
where n is the number of knots. Because the spline is a cubic polynomial,
there must be at least four knots. See <a href="spline4.html">spline4</a> for a version optimized
for four knots.</p>
<blockquote>
<p><a href="http://en.wikipedia.org/wiki/Catmull-Rom_spline#Catmull.E2.80.93Rom_spline">Wikipedia</a>: The curve is named after Edwin Catmull and Raphie Rom.
In computer graphics, Catmull-Rom splines are frequently used to get
smooth interpolated motion between key frames. For example, most camera
path animations generated from discrete key-frames are handled using
Catmull-Rom splines. They are popular mainly for being relatively easy
to compute, guaranteeing that each key frame position will be hit exactly,
and also guaranteeing that the tangents of the generated curve are
continuous over multiple segments.</p>
</blockquote>
<p><img src="../images/spline1.gif" alt="spline" title="spline" /></p>
<dl class="dictionary script">
<dt><a href="spline.html">spline(t, knotlist)</a></dt>
<dd>Returns the Catmull-Rom interpolation of the given knot values at the given parameter position.</dd>
</dl>
<div class="codebox script">
<pre><span class="copy"><a title="Copy to Clipboard" onclick="copyUpdate(this,copyToClipboard('spline'))">COPY</a></span><code class="prettyprint lang-gml linenums" id="spline">/// @func   spline(t, knotlist)
///
/// @desc   Returns the Catmull-Rom interpolation of the given
///         knot values at the given parameter position.
///
///         If (t) is 0, returns knot[2], if (t) is 1, returns knot[N-1],
///         (where 1 is the first knot and N is the last knot). For other
///         values of (t), interpolates smoothly from knot[2] to knot[N-1].
///         The first and last knots determine the derivatives of the spline
///         end points. Because the spline is a cubic polynomial, there must
///         be at least four knots.
///
/// @param  {real}      t           interpolation parameter [0..1]
/// @param  {list}      knotlist    ds_list of spline knot values
///
/// @return {real}      value on the spline
///
/// GMLscripts.com/license

function spline(t, knotlist)
{
    var nknots, nspans, span, k, c3, c2, c1, c0;
    nknots = ds_list_size(knotlist);
    nspans = nknots - 3;
    if (nspans &lt; 1) return 0; // ERROR: too few knots
    t = clamp(t, 0, 1) * nspans;
    span = floor(t);
    if (span &gt;= nknots - 3) span = nknots - 3;
    t -= span;
    k[0] = ds_list_find_value(knotlist,span);
    k[1] = ds_list_find_value(knotlist,span+1);
    k[2] = ds_list_find_value(knotlist,span+2);
    k[3] = ds_list_find_value(knotlist,span+3);
    c3 = -0.5 * k[0] + 1.5 * k[1] - 1.5 * k[2] + 0.5 * k[3];
    c2 = k[0] - 2.5 * k[1] + 2 * k[2] - 0.5 * k[3];
    c1 = -0.5 * k[0] + 0.5 * k[2];
    c0 = k[1];
    return ((c3 * t + c2) * t + c1) * t + c0;
}
</code></pre>
</div>
<p id="contributors">
Contributors: xot
</p>
<p id="related">
Related: <a href="bias.html">bias</a>, <a href="boxstep.html">boxstep</a>, <a href="gain.html">gain</a>, <a href="gammacorrect.html">gammacorrect</a>, <a href="map_range.html">map_range</a>, <a href="pulse.html">pulse</a>, <a href="smoothstep.html">smoothstep</a>, <strong>spline</strong>, <a href="spline4.html">spline4</a>, <a href="step.html">step</a>
</p>
<p id="github">
GitHub: <a href="https://github.com/gmlscripts/scripts/blob/master/Computation/Parametric_Functions/spline.gml" target="_blank">View</a>  &middot; <a href="https://github.com/gmlscripts/scripts/commits/master/Computation/Parametric_Functions/spline.gml" target="_blank">Commits</a>  &middot; <a href="https://github.com/gmlscripts/scripts/blame/master/Computation/Parametric_Functions/spline.gml" target="_blank">Blame</a> &middot; <a href="https://github.com/gmlscripts/scripts/raw/master/Computation/Parametric_Functions/spline.gml" target="_blank">Raw</a>
</p>
<hr />
<!-- DISQUS START -->
<div id="disqus_thread"></div>
<script>
var disqus_config = function () {
this.page.url = 'https://www.gmlscripts.com/script/spline';
this.page.identifier = '/script/spline';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://gmlscripts.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<!-- DISQUS END -->
</main>
<footer>
  copyright &copy; 2007-2024, xot media multimixing 
  <span><img src="../images/35/x.png" title="web by xot" alt="X" /></span>
  <div id="cookies">This site uses cookies to improve navigation and to log into our forums. By continuing to use this site, you agree to the use of cookies.<a id="cookiebutton">OK</a></div>
</footer>
</body>
</html>
